Function Name,What It Does,How It Works,Reusability Score (1-10)
initialize(),"Main initialization function that orchestrates the complete DecoderTest application startup sequence. Sets up state persistence, loads wordpack data, validates saved state, configures UI event listeners, syncs UI elements to restored state, and displays the vocabulary table.","ASYNC FUNCTION with 7-step initialization workflow: STEP 1 - Calls restoreSavedState() from wordpack-logic.js to retrieve JSON-serialized state from localStorage, parsing and validating language selection, act number, pack key, native language, and mode flags. STEP 2 - Calls await loadLanguageData(state.currentLanguage) which iterates through MODULE_URLS, uses decodeObfuscatedModule() to perform dynamic ES module imports of obfuscated JS files, extracts base64-encoded 'w' export, decodes via atob(), decompresses with pako.inflate() (zlib), reverses string to undo salt, and JSON.parses result. Stores decoded data in state.loadedData[actNumber] and metadata in state.loadedActMeta[actNumber]. STEP 3 - If hadSavedState is true, calls validateAndFixState() from wordpack-logic.js to verify state.currentAct exists in state.loadedData and state.currentPack exists in the act's pack data. STEP 4 - Calls four setup functions: setupLanguageRadioButtons() for Spanish/Chinese/English radio buttons, setupModeCheckboxes() for table/multipleChoice/typing/pronunciation/flashcard mode radio buttons (uses configuration-driven loop pattern), populateActDropdown() via window.populateActSelector() to fill act <select>, and populateNativeLanguageDropdown() via window.populateNativeLanguageSelector() to fill native language <select>. STEP 5 - Calls syncUIToState() to iterate through all language radio buttons and checkboxes, setting .checked=true on matching elements and .value properties on dropdowns. STEP 6 - Conditional branching: if state.currentAct AND state.currentPack are both truthy (valid restored state), updates dropdown values and calls displayVocabulary(); otherwise calls autoSelectFirstActAndPack() from wordpack-logic.js which finds first act/pack numerically. STEP 7 - Calls updateDebugInfo('Initialization complete'). Registered via window.addEventListener('DOMContentLoaded', initialize) for automatic execution on page load. All heavy lifting delegated to wordpack-logic.js functions demonstrating orchestrator pattern where game-specific file controls flow while shared module provides implementation.",7
