<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wordpack Construction Pipeline - Prompt Copier</title>
    <style>
        /* Clean and simple */
        table { border-collapse: collapse; }
        table, th, td { border: 1px solid black; }
        th, td { padding: 4px 8px; }

        /* Prompt boxes */
        div[onclick] {
            border: 1px solid black;
            padding: 10px;
            margin: 10px 0;
            white-space: pre-wrap;
            background: #f5f5f5;
            cursor: pointer;
        }
    </style>
</head>
<body>

<!--
================================================================================
WORDPACK CONSTRUCTION PIPELINE - DOCUMENTATION FOR LLMs AND HUMANS
================================================================================

PURPOSE OF THIS SYSTEM:
-----------------------
This is a multi-stage, iterative pipeline for constructing high-quality
language learning flashcard data. The goal is to create vocabulary wordpacks
for a flashcard game that teaches Chinese, Spanish, and English.

THE ITERATIVE QUALITY LOOP:
---------------------------
Each stage follows the same iterative pattern:

    ┌─────────────────────────────────────────────────────────────────┐
    │                                                                 │
    │   1. LLM Agent reviews current state                           │
    │   2. LLM scores quality (1-10) and lists improvements          │
    │   3. LLM makes changes                                         │
    │   4. Python scripts validate (duplicates, format, etc.)        │
    │   5. LLM fixes any Python-detected issues                      │
    │   6. LLM scores again                                          │
    │   7. If score < 9, feed to NEW LLM instance (unbiased)         │
    │   8. New LLM rates, suggests improvements                      │
    │   9. Repeat until score >= 9.0 or 9.5                          │
    │                                                                 │
    └─────────────────────────────────────────────────────────────────┘

WHY USE PYTHON FOR VALIDATION?
------------------------------
Python scripts are used for simple logic checks because:
- Code is faster than LLM for counting, string matching, duplicate detection
- LLMs have limited attention and consume tokens on repetitive checks
- Python catches 100% of format errors; LLMs might miss some
- Frees LLM to focus on creative/semantic work (quality of content)

Python validation scripts in PythonHelpers/:
- check_base_word_duplicates.py    - Stage 1: No base word in multiple packs
- check_combined_across_packs.py   - Stage 2+: Check combined array duplicates
- check_combined_duplicates.py     - Stage 2: Within-pack duplicate check
- validate_pinyin.py               - Stage 3+: 1 pinyin syllable per character
- validate_overview_csvs.py        - General: CSV structure validation

THE 4 STAGES:
-------------
Stage 1: BASE WORDS REVIEW
    - Input:  [Lang]_Base_Words column in Overview CSV
    - Output: Perfected base vocabulary items (single words/compound words)
    - Goal:   Each pack has ~15-20 excellent themed vocabulary items
    - Check:  No duplicates across packs (each word in ONE pack only)

Stage 2: EXAMPLE WORDS CREATION
    - Input:  Finalized Base_Words from Stage 1
    - Output: [Lang]_Example_Words column (2 examples per base word)
    - Goal:   Examples that CONTAIN the base word, showing context
    - Check:  Every example contains its base word as substring

Stage 3: BREAKOUT CSV CREATION
    - Input:  Combined_Words (Base + Example merged)
    - Output: Individual CSV files per pack (e.g., ChineseWords1.csv)
    - Goal:   Full translations in all target languages
    - Check:  Pinyin syllable count matches Chinese character count

Stage 4: JAVASCRIPT MODULE GENERATION
    - Input:  Breakout CSVs (ChineseWords1.csv, etc.)
    - Output: JS modules in two formats:
              * Clean: Jsmodules/act1-foundation.js (readable, for development)
              * Obfuscated: Jsmodules-js/act1-foundation-js.js (compressed, for production)
    - Goal:   Game-ready data that can be imported by the flashcard app

CRITICAL RULE - PYTHON VS MANUAL EDITING:
-----------------------------------------
Python scripts are ONLY for FINDING issues, NEVER for fixing them.
- Python: Detect duplicates, count mismatches, format errors
- Manual: Actually edit the CSV to fix the issues

EXCEPTION: Combined_Words column is created by Python.
Combined_Words = Base_Words + Example_Words (simple array concatenation).
This is deterministic computation, not a "fix" - there's no judgment involved.

Why manual fixes for everything else? Python can make automated changes
that cascade into bigger problems. Human/LLM must understand what
they're changing and why.

DATA FLOW DIAGRAM:
------------------

    Overview CSV                    Breakout CSVs                 JS Modules
    ┌──────────────┐               ┌──────────────┐              ┌──────────────┐
    │ Pack_Number  │               │ chinese      │              │ Clean JS     │
    │ Pack_Title   │    Stage 3    │ pinyin       │   Stage 4    │ (readable)   │
    │ Difficulty   │ ───────────►  │ english      │ ───────────► │              │
    │ Base_Words   │               │ spanish      │              │ Obfuscated   │
    │ Example_Words│               │ ...          │              │ (compressed) │
    │ Combined_    │               │              │              │              │
    │   Words      │               │ One file per │              │ One file per │
    └──────────────┘               │ pack (1-250) │              │ act (1-7)    │
                                   └──────────────┘              └──────────────┘

JAVASCRIPT MODULE STRUCTURE:
----------------------------
The final output is JavaScript modules organized by "Acts" (learning stages).

CLEAN VERSION (for development, LLM-assisted coding):
    Location: [Lang]Words/Jsmodules/act1-foundation.js
    Format: Human-readable ES6 exports

    export const p1_1_greetings__goodbyes = {
      meta: {
        wordpack: 1,
        english: "Greetings & Goodbyes",
        chinese: "问候语",
        spanish: "Saludos y Despedidas",
        // ... other language titles
      },
      words: [
        ["你好", "nǐ hǎo", "hello", "hola", "bonjour", ...],
        ["再见", "zài jiàn", "goodbye", "adiós", "au revoir", ...],
        // ... more words
      ]
    };

OBFUSCATED VERSION (for production deployment):
    Location: [Lang]Words/Jsmodules-js/act1-foundation-js.js
    Format: Compressed + Base64 encoded

    Obfuscation method (3 layers):
    1. JSON.stringify the data
    2. Reverse the string (salt)
    3. Zlib compress
    4. Base64 encode

    To decode (in browser):
    - Import module (contains base64 string in 'w' export)
    - Base64 decode → Uint8Array
    - pako.inflate (zlib decompress)
    - Reverse string
    - JSON.parse → original data

COLUMN STRUCTURE BY LANGUAGE:
-----------------------------
CHINESE (12 columns):
    [0] chinese, [1] pinyin, [2] english, [3] spanish, [4] french,
    [5] portuguese, [6] vietnamese, [7] thai, [8] khmer,
    [9] indonesian, [10] malay, [11] filipino

SPANISH (5 columns):
    [0] spanish, [1] english, [2] chinese, [3] pinyin, [4] portuguese

ENGLISH (5 columns):
    [0] english, [1] chinese, [2] pinyin, [3] spanish, [4] portuguese

PINYIN CRITICAL RULE:
---------------------
Each Chinese character must have exactly ONE pinyin syllable, separated by spaces.
This allows the game UI to display pinyin directly under each character.

    CORRECT:   猴子 → "hóu zi"    (2 chars = 2 syllables)
    INCORRECT: 猴子 → "hóuzi"     (2 chars but 1 syllable - WRONG)

ACTS (Learning Progression):
----------------------------
Words are grouped into "Acts" representing learning stages:
    - Act I: Foundation (basic vocabulary)
    - Act II: Building Blocks / Development
    - Act III: Daily Life / Expansion
    - Act IV: Expanding Expression / Mastery
    - Act V: Advanced / Refinement
    - Act VI: Advanced Constructs (Spanish only)
    - Act VII: Mastery Fluency (Spanish only)

Each act contains multiple wordpacks (e.g., Act I might have packs 1-50).

QUALITY STANDARDS:
------------------
- Stage 1 score target: 9.0+ (base words are excellent vocabulary items)
- Stage 2 score target: 9.0+ (examples naturally contain base words)
- Stage 3 score target: 9.5+ (translations accurate, pinyin correct)
- Overall: Keep iterating until a fresh LLM instance rates it highly

THE FRESH LLM PRINCIPLE:
------------------------
After making improvements, always have a NEW LLM instance (one that has never
seen this wordpack before) rate the quality. This prevents:
- Confirmation bias (the editing LLM thinking its changes are good)
- Anchoring (being influenced by previous versions)
- Familiarity blindness (missing issues due to repeated exposure)

================================================================================
-->

<h1>Wordpack Construction Pipeline</h1>

<div>
    <h4>What is this?</h4>
    <p>A multi-stage, iterative pipeline for constructing high-quality flashcard data for language learning (Chinese, Spanish, English).</p>

    <h4>The Iterative Quality Loop</h4>
    <p>Each stage follows: <strong>LLM reviews → scores 1-10 → makes changes → Python validates → fixes issues → scores again → if &lt;9, new LLM rates → repeat until 9+</strong></p>

    <h4>Why Python + LLM?</h4>
    <p>Python handles mechanical checks (duplicates, format, counting) quickly and accurately. LLMs focus on creative/semantic work (is this a good vocabulary word for this theme?).</p>

    <h4>Final Output</h4>
    <p>JavaScript modules in 2 formats:</p>
    <ul>
        <li><code>Jsmodules/*.js</code> - Clean, readable (for development)</li>
        <li><code>Jsmodules-js/*-js.js</code> - Obfuscated/compressed (for production)</li>
    </ul>

    <h4>Click any prompt box to copy it to clipboard.</h4>
</div>

<!-- ============================================================ -->
<!-- STAGE 1: BASE WORDS REVIEW                                   -->
<!-- ============================================================ -->

<div>
    <h2>Stage 1: Base Words Review</h2>
    <p>Perfect the core vocabulary items. Target score: 9.0+</p>
    <p><strong>Python check:</strong> <code>python PythonHelpers/check_base_word_duplicates.py [lang]</code></p>
</div>

<div>
    <h4>STAGE 1 BEFORE/AFTER - Chinese Example</h4>
    <p>BEFORE: Contains phrases mixed with vocabulary (BAD)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Difficulty_Act</th><th>Chinese_Base_Words</th></tr>
        <tr><td>15</td><td>Animals</td><td>Act I</td><td>[猫,狗,我喜欢猫,鸟,他有狗]</td></tr>
    </table>
    <p>AFTER: Only vocabulary items - single words or compound words (GOOD)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Difficulty_Act</th><th>Chinese_Base_Words</th></tr>
        <tr><td>15</td><td>Animals</td><td>Act I</td><td>[猫,狗,鸟,鱼,兔子,老虎,狮子,熊猫]</td></tr>
    </table>

    <h4>STAGE 1 BEFORE/AFTER - Spanish Example</h4>
    <p>BEFORE: "yo como pan" and "ella bebe" are phrases (BAD)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Difficulty_Act</th><th>Spanish_Base_Words</th></tr>
        <tr><td>8</td><td>Food</td><td>Act I</td><td>[pan,queso,yo como pan,leche,ella bebe]</td></tr>
    </table>
    <p>AFTER: All vocabulary items (GOOD)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Difficulty_Act</th><th>Spanish_Base_Words</th></tr>
        <tr><td>8</td><td>Food</td><td>Act I</td><td>[pan,queso,leche,manzana,arroz,pollo]</td></tr>
    </table>

    <h4>STAGE 1 BEFORE/AFTER - English Example</h4>
    <p>BEFORE: "I like red" and "she has blue" are phrases (BAD)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Difficulty_Act</th><th>English_Base_Words</th></tr>
        <tr><td>5</td><td>Colors</td><td>Act I</td><td>[red,blue,I like red,green,she has blue]</td></tr>
    </table>
    <p>AFTER: All vocabulary items (GOOD)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Difficulty_Act</th><th>English_Base_Words</th></tr>
        <tr><td>5</td><td>Colors</td><td>Act I</td><td>[red,blue,green,yellow,orange,purple]</td></tr>
    </table>
</div>

<h3>Chinese - Stage 1</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Review and perfect Chinese_Base_Words in ChineseWordsOverview.csv

=== ITERATIVE QUALITY LOOP ===
This is an iterative process. You will:
1. Score the current state (1-10)
2. List specific improvements needed
3. Make changes
4. Run Python validation
5. Fix any issues Python finds
6. Score again
7. If score < 9.0, your output will be reviewed by a fresh LLM instance

TARGET SCORE: 9.0 or higher (as rated by a fresh LLM that hasn't seen this before)

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== WHAT ARE BASE WORDS? ===
Base words are VOCABULARY ITEMS - single words or compound words that learners memorize.
Examples of GOOD base words: 你好, 星期六, 电脑, 谢谢, 早上好

Base words are NOT phrases, sentences, or words with added context.
- ✗ 我说你好 (phrase/sentence - NOT a base word)
- ✗ 他的电脑 (adds context - NOT a base word)
- ✓ 你好 (vocabulary item - GOOD)
- ✓ 电脑 (vocabulary item - GOOD)

=== CONTEXT COMES IN STAGE 2 - NOT NOW ===
Stage 2 creates Example_Words showing base words in context.
Your job in Stage 1 is ONLY to ensure base words are good vocabulary items.

=== SCORING CRITERIA (1-10) ===
- Does each base word fit the pack's theme?
- Are these useful vocabulary items learners should know?
- Are there duplicates or too-similar words within the pack?
- Are there obvious missing words for this theme?
- Is the difficulty appropriate for the pack's Act?

=== DO NOT ===
- Turn base words into phrases or sentences
- Add context to base words
- Worry about "lack of context" - that's Stage 2's job

=== CRITICAL RULES ===
- SIMPLIFIED CHINESE only (简体中文) - NEVER Traditional Chinese
- Keep base words as vocabulary items (not phrases)
- You CAN add/remove/replace base words freely
- Roughly 15-20 words per pack is typical but very flexible

=== NO DUPLICATES ACROSS PACKS ===
After changes, run: python PythonHelpers/check_base_word_duplicates.py chinese
Each base word must appear in ONLY ONE pack across all 107 packs.
If duplicates found, MANUALLY decide which pack fits best and MANUALLY remove from others.

=== CRITICAL: PYTHON = FIND, MANUAL = FIX ===
Python scripts ONLY find issues. They NEVER fix them.
YOU must MANUALLY edit the CSV to fix any issues Python finds.
NEVER use Python to automatically edit CSV files.

=== IDENTIFY GAPS ===
Note if obvious theme gaps deserve new packs.
Example: "Gap: No kitchen vocabulary. Suggest Pack 'Kitchen Items': [锅, 碗, 筷子, 勺子, ...]"

=== FILE INFO ===
FILE: ChineseWordsOverview.csv
COLUMN: Chinese_Base_Words

(See HTML tables above for before/after examples)

=== WORKFLOW ===
1. BEFORE SCORE: Rate current base words 1-10, list what could be better
2. MAKE CHANGES: Add/remove/replace vocabulary items
3. PYTHON CHECK: python PythonHelpers/check_base_word_duplicates.py chinese
4. FIX: Remove any cross-pack duplicates
5. GAPS: Suggest new packs if themes missing
6. AFTER SCORE: Rate again, summarize improvements
7. If score < 9.0, explain what would make it 9.0+

=== FINAL OUTPUT (REQUIRED) ===
End your response with this exact table format:

| Metric       | Value |
|--------------|-------|
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation of what improved] |

Create your own branch, commit, and PR to main.</div>

<h3>Spanish - Stage 1</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Review and perfect Spanish_Base_Words in SpanishWordsOverview.csv

=== ITERATIVE QUALITY LOOP ===
This is an iterative process. You will:
1. Score the current state (1-10)
2. List specific improvements needed
3. Make changes
4. Run Python validation
5. Fix any issues Python finds
6. Score again
7. If score < 9.0, your output will be reviewed by a fresh LLM instance

TARGET SCORE: 9.0 or higher (as rated by a fresh LLM that hasn't seen this before)

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== WHAT ARE BASE WORDS? ===
Base words are VOCABULARY ITEMS - single words or compound words that learners memorize.
Examples of GOOD base words: hola, buenos días, gracias, biblioteca, cumpleaños

Base words are NOT phrases, sentences, or words with added context.
- ✗ yo digo hola (phrase/sentence - NOT a base word)
- ✗ mi cumpleaños es (adds context - NOT a base word)
- ✓ hola (vocabulary item - GOOD)
- ✓ cumpleaños (vocabulary item - GOOD)

=== CONTEXT COMES IN STAGE 2 - NOT NOW ===
Stage 2 creates Example_Words showing base words in context.
Your job in Stage 1 is ONLY to ensure base words are good vocabulary items.

=== SCORING CRITERIA (1-10) ===
- Does each base word fit the pack's theme?
- Are these useful vocabulary items learners should know?
- Are there duplicates or too-similar words within the pack?
- Are there obvious missing words for this theme?
- Is the difficulty appropriate for the pack's Act?

=== DO NOT ===
- Turn base words into phrases or sentences
- Add context to base words
- Worry about "lack of context" - that's Stage 2's job

=== NO DUPLICATES ACROSS PACKS ===
After changes, run: python PythonHelpers/check_base_word_duplicates.py spanish
Each base word must appear in ONLY ONE pack across all 250 packs.
If duplicates found, MANUALLY decide which pack fits best and MANUALLY remove from others.

=== CRITICAL: PYTHON = FIND, MANUAL = FIX ===
Python scripts ONLY find issues. They NEVER fix them.
YOU must MANUALLY edit the CSV to fix any issues Python finds.
NEVER use Python to automatically edit CSV files.

=== IDENTIFY GAPS ===
Note if obvious theme gaps deserve new packs.

=== FILE INFO ===
FILE: SpanishWordsOverview.csv
COLUMN: Spanish_Base_Words

(See HTML tables above for before/after examples)

=== WORKFLOW ===
1. BEFORE SCORE: Rate current base words 1-10, list what could be better
2. MAKE CHANGES: Add/remove/replace vocabulary items
3. PYTHON CHECK: python PythonHelpers/check_base_word_duplicates.py spanish
4. FIX: Remove any cross-pack duplicates
5. GAPS: Suggest new packs if themes missing
6. AFTER SCORE: Rate again, summarize improvements
7. If score < 9.0, explain what would make it 9.0+

=== FINAL OUTPUT (REQUIRED) ===
End your response with this exact table format:

| Metric       | Value |
|--------------|-------|
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation of what improved] |

Create your own branch, commit, and PR to main.</div>

<h3>English - Stage 1</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Review and perfect English_Base_Words in EnglishWordsOverview.csv

=== ITERATIVE QUALITY LOOP ===
This is an iterative process. You will:
1. Score the current state (1-10)
2. List specific improvements needed
3. Make changes
4. Run Python validation
5. Fix any issues Python finds
6. Score again
7. If score < 9.0, your output will be reviewed by a fresh LLM instance

TARGET SCORE: 9.0 or higher (as rated by a fresh LLM that hasn't seen this before)

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== WHAT ARE BASE WORDS? ===
Base words are VOCABULARY ITEMS - single words or compound words that learners memorize.
Examples of GOOD base words: hello, good morning, birthday, computer, beautiful

Base words are NOT phrases, sentences, or words with added context.
- ✗ I say hello (phrase/sentence - NOT a base word)
- ✗ my birthday is (adds context - NOT a base word)
- ✓ hello (vocabulary item - GOOD)
- ✓ birthday (vocabulary item - GOOD)

=== CONTEXT COMES IN STAGE 2 - NOT NOW ===
Stage 2 creates Example_Words showing base words in context.
Your job in Stage 1 is ONLY to ensure base words are good vocabulary items.

=== SCORING CRITERIA (1-10) ===
- Does each base word fit the pack's theme?
- Are these useful vocabulary items learners should know?
- Are there duplicates or too-similar words within the pack?
- Are there obvious missing words for this theme?
- Is the difficulty appropriate for the pack's Act?

=== DO NOT ===
- Turn base words into phrases or sentences
- Add context to base words
- Worry about "lack of context" - that's Stage 2's job

=== NO DUPLICATES ACROSS PACKS ===
After changes, run: python PythonHelpers/check_base_word_duplicates.py english
Each base word must appear in ONLY ONE pack across all 160 packs.
If duplicates found, MANUALLY decide which pack fits best and MANUALLY remove from others.

=== CRITICAL: PYTHON = FIND, MANUAL = FIX ===
Python scripts ONLY find issues. They NEVER fix them.
YOU must MANUALLY edit the CSV to fix any issues Python finds.
NEVER use Python to automatically edit CSV files.

=== IDENTIFY GAPS ===
Note if obvious theme gaps deserve new packs.

=== FILE INFO ===
FILE: EnglishWordsOverview.csv
COLUMN: English_Base_Words

(See HTML tables above for before/after examples)

=== WORKFLOW ===
1. BEFORE SCORE: Rate current base words 1-10, list what could be better
2. MAKE CHANGES: Add/remove/replace vocabulary items
3. PYTHON CHECK: python PythonHelpers/check_base_word_duplicates.py english
4. FIX: Remove any cross-pack duplicates
5. GAPS: Suggest new packs if themes missing
6. AFTER SCORE: Rate again, summarize improvements
7. If score < 9.0, explain what would make it 9.0+

=== FINAL OUTPUT (REQUIRED) ===
End your response with this exact table format:

| Metric       | Value |
|--------------|-------|
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation of what improved] |

Create your own branch, commit, and PR to main.</div>

<!-- ============================================================ -->
<!-- STAGE 2: EXAMPLE WORDS CREATION                              -->
<!-- ============================================================ -->

<div>
    <h2>Stage 2: Create Example Words</h2>
    <p>Create contextual examples containing each base word. Target score: 9.0+</p>
    <p><strong>Python check:</strong> Validate examples contain base words, check duplicates</p>
</div>

<div>
    <h4>STAGE 2 BEFORE/AFTER - Chinese Example</h4>
    <p>BEFORE: Only Base_Words column exists (after Stage 1)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Chinese_Base_Words</th><th>Chinese_Example_Words</th><th>Chinese_Combined_Words</th></tr>
        <tr><td>15</td><td>Animals</td><td>[猫,狗,鸟]</td><td>(empty)</td><td>(empty)</td></tr>
    </table>
    <p>AFTER: Example_Words (2 per base) + Combined_Words created</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Chinese_Base_Words</th><th>Chinese_Example_Words</th><th>Chinese_Combined_Words</th></tr>
        <tr><td>15</td><td>Animals</td><td>[猫,狗,鸟]</td><td>[小猫,猫咪,小狗,狗狗,小鸟,鸟儿]</td><td>[猫,狗,鸟,小猫,猫咪,小狗,狗狗,小鸟,鸟儿]</td></tr>
    </table>
    <p>Notice: 小猫 & 猫咪 contain 猫 | 小狗 & 狗狗 contain 狗 | 小鸟 & 鸟儿 contain 鸟</p>

    <h4>STAGE 2 BEFORE/AFTER - Spanish Example</h4>
    <p>BEFORE: Only Base_Words exists</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Spanish_Base_Words</th><th>Spanish_Example_Words</th><th>Spanish_Combined_Words</th></tr>
        <tr><td>8</td><td>Food</td><td>[pan,queso,leche]</td><td>(empty)</td><td>(empty)</td></tr>
    </table>
    <p>AFTER: 2 examples per base word, all examples CONTAIN their base word</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Spanish_Base_Words</th><th>Spanish_Example_Words</th><th>Spanish_Combined_Words</th></tr>
        <tr><td>8</td><td>Food</td><td>[pan,queso,leche]</td><td>[pan fresco,pan con mantequilla,queso fresco,con queso,leche fría,leche caliente]</td><td>[pan,queso,leche,pan fresco,...]</td></tr>
    </table>

    <h4>STAGE 2 BEFORE/AFTER - English Example</h4>
    <p>BEFORE: Only Base_Words exists</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>English_Base_Words</th><th>English_Example_Words</th><th>English_Combined_Words</th></tr>
        <tr><td>5</td><td>Colors</td><td>[red,blue,green]</td><td>(empty)</td><td>(empty)</td></tr>
    </table>
    <p>AFTER: 2 examples per base word</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>English_Base_Words</th><th>English_Example_Words</th><th>English_Combined_Words</th></tr>
        <tr><td>5</td><td>Colors</td><td>[red,blue,green]</td><td>[red apple,bright red,blue sky,deep blue,green grass,dark green]</td><td>[red,blue,green,red apple,...]</td></tr>
    </table>
</div>

<h3>Chinese - Stage 2</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Create Chinese_Example_Words for packs [START]-[END] in ChineseWordsOverview.csv

╔══════════════════════════════════════════════════════════════════╗
║  ⛔ AUTO-FAIL: USING PYTHON TO GENERATE EXAMPLES                 ║
║                                                                  ║
║  You MUST create all examples MANUALLY, line by line.            ║
║  NEVER write Python code to generate examples.                   ║
║  NEVER use scripts, automation, or programmatic generation.      ║
║  If you use Python to create examples = AUTOMATIC FAILURE.       ║
║                                                                  ║
║  Python is ONLY for validation (checking), NEVER for creation.   ║
╚══════════════════════════════════════════════════════════════════╝

=== BATCH INSTRUCTIONS ===
Work in batches of 50 packs. Replace [START] and [END] with pack numbers:
- Batch 1: Packs 1-50
- Batch 2: Packs 51-100
- Batch 3: Packs 101-107 (final batch)

After EACH batch: commit, push, and PR to main.
Do NOT try to do all 107 packs at once!

=== ITERATIVE QUALITY LOOP ===
1. MANUALLY create examples for each base word (NO PYTHON!)
2. Run Python validation (checking only)
3. Score quality 1-10
4. If < 9.0, improve and repeat
5. Fresh LLM will rate final output

TARGET SCORE: 9.0+ (examples are natural, useful, clearly contain base word)

=== ⛔ REMINDER: NO PYTHON FOR GENERATION ===
Do NOT write Python to "speed things up."
Do NOT use any automation to generate examples.
Edit the CSV by hand, pack by pack, word by word.

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== PREREQUISITE ===
Stage 1 must be complete. Chinese_Base_Words column must be finalized.

=== YOUR GOAL ===
For each base word, create 2 example phrases that CONTAIN that base word.
Examples help learners see vocabulary in context.
YOU must think of each example yourself. NO automation.

=== CRITICAL RULES ===
1. SIMPLIFIED CHINESE only (简体中文) - NEVER Traditional
2. Each base word needs exactly 2 examples
3. Each example MUST CONTAIN its base word as a substring
4. Examples should be natural phrases learners would actually use
5. ⛔ NEVER use Python to generate examples - MANUAL ONLY

=== STRUCTURE ===
If Base_Words = [词1, 词2, 词3]
Then Example_Words = [词1例A, 词1例B, 词2例A, 词2例B, 词3例A, 词3例B]

Pairing:
- examples[0], examples[1] → contain base_words[0]
- examples[2], examples[3] → contain base_words[1]
- etc.

=== EXAMPLE ===
Base_Words: [你好, 再见, 谢谢]
Example_Words: [你好吗, 你好啊, 再见朋友, 再见了, 谢谢你, 谢谢啊]

Notice: 你好吗 and 你好啊 both CONTAIN 你好

=== PYTHON: VALIDATION ONLY ===
Python is ONLY for checking your manual work:
1. Verify every example contains its base word
2. Check word count: Example_Words = 2 × Base_Words count
3. Check for duplicates within pack
4. Create Combined_Words = Base_Words + Example_Words

⛔ Python is NEVER for generating content. NEVER.

=== FILE INFO ===
FILE: ChineseWordsOverview.csv
COLUMNS TO CREATE: Chinese_Example_Words, Chinese_Combined_Words

(See HTML tables above for before/after examples)

=== WORKFLOW FOR THIS BATCH ===
1. Read Base_Words for packs [START] to [END] only
2. ⛔ MANUALLY create 2 examples per base word (NO PYTHON!)
3. Build Example_Words array BY HAND
4. Run Python validation (checking only)
5. Fix any issues MANUALLY
6. Score quality 1-10
7. Commit, push, PR to main
8. Next agent picks up the next batch

=== ⛔ FINAL WARNING ===
If you write ANY Python code to generate examples, you have FAILED.

=== FINAL OUTPUT (REQUIRED) ===
| Metric       | Value |
|--------------|-------|
| Batch        | Packs [START]-[END] |
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation] |

Create your own branch, commit, and PR to main after this batch.</div>

<h3>Spanish - Stage 2</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Create Spanish_Example_Words for packs [START]-[END] in SpanishWordsOverview.csv

╔══════════════════════════════════════════════════════════════════╗
║  ⛔ AUTO-FAIL: USING PYTHON TO GENERATE EXAMPLES                 ║
║                                                                  ║
║  You MUST create all examples MANUALLY, line by line.            ║
║  NEVER write Python code to generate examples.                   ║
║  NEVER use scripts, automation, or programmatic generation.      ║
║  If you use Python to create examples = AUTOMATIC FAILURE.       ║
║                                                                  ║
║  Python is ONLY for validation (checking), NEVER for creation.   ║
╚══════════════════════════════════════════════════════════════════╝

=== BATCH INSTRUCTIONS ===
Work in batches of 50 packs. Replace [START] and [END] with pack numbers:
- Batch 1: Packs 1-50
- Batch 2: Packs 51-100
- Batch 3: Packs 101-150
- Batch 4: Packs 151-200
- Batch 5: Packs 201-250 (final batch)

After EACH batch: commit, push, and PR to main.
Do NOT try to do all 250 packs at once!

=== ITERATIVE QUALITY LOOP ===
1. MANUALLY create examples for each base word (NO PYTHON!)
2. Run Python validation (checking only)
3. Score quality 1-10
4. If < 9.0, improve and repeat
5. Fresh LLM will rate final output

TARGET SCORE: 9.0+ (examples are natural, useful, clearly contain base word)

=== ⛔ REMINDER: NO PYTHON FOR GENERATION ===
Do NOT write Python to "speed things up."
Do NOT use any automation to generate examples.
Edit the CSV by hand, pack by pack, word by word.

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== PREREQUISITE ===
Stage 1 must be complete. Spanish_Base_Words column must be finalized.

=== YOUR GOAL ===
For each base word, create 2 example phrases that CONTAIN that base word.
YOU must think of each example yourself. NO automation.

=== CRITICAL RULES ===
1. Each base word needs exactly 2 examples
2. Each example MUST CONTAIN its base word as a substring
3. Examples should be natural phrases learners would actually use
4. ⛔ NEVER use Python to generate examples - MANUAL ONLY

=== STRUCTURE ===
If Base_Words = [word1, word2, word3]
Then Example_Words = [word1_exA, word1_exB, word2_exA, word2_exB, word3_exA, word3_exB]

=== EXAMPLE ===
Base_Words: [hola, adiós, gracias]
Example_Words: [hola amigo, hola señor, adiós amigos, adiós señora, gracias amigo, muchas gracias]

Notice: "hola amigo" and "hola señor" both CONTAIN "hola"

=== PYTHON: VALIDATION ONLY ===
Python is ONLY for checking your manual work:
1. Verify every example contains its base word
2. Check word count: Example_Words = 2 × Base_Words count
3. Check for duplicates
4. Create Combined_Words = Base_Words + Example_Words

⛔ Python is NEVER for generating content. NEVER.

=== FILE INFO ===
FILE: SpanishWordsOverview.csv
COLUMNS TO CREATE: Spanish_Example_Words, Spanish_Combined_Words

(See HTML tables above for before/after examples)

=== WORKFLOW FOR THIS BATCH ===
1. Read Base_Words for packs [START] to [END] only
2. ⛔ MANUALLY create 2 examples per base word (NO PYTHON!)
3. Build Example_Words array BY HAND
4. Run Python validation (checking only)
5. Fix any issues MANUALLY
6. Score quality 1-10
7. Commit, push, PR to main
8. Next agent picks up the next batch

=== ⛔ FINAL WARNING ===
If you write ANY Python code to generate examples, you have FAILED.

=== FINAL OUTPUT (REQUIRED) ===
| Metric       | Value |
|--------------|-------|
| Batch        | Packs [START]-[END] |
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation] |

Create your own branch, commit, and PR to main after this batch.</div>

<h3>English - Stage 2</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Create English_Example_Words for packs [START]-[END] in EnglishWordsOverview.csv

╔══════════════════════════════════════════════════════════════════╗
║  ⛔ AUTO-FAIL: USING PYTHON TO GENERATE EXAMPLES                 ║
║                                                                  ║
║  You MUST create all examples MANUALLY, line by line.            ║
║  NEVER write Python code to generate examples.                   ║
║  NEVER use scripts, automation, or programmatic generation.      ║
║  If you use Python to create examples = AUTOMATIC FAILURE.       ║
║                                                                  ║
║  Python is ONLY for validation (checking), NEVER for creation.   ║
╚══════════════════════════════════════════════════════════════════╝

=== BATCH INSTRUCTIONS ===
Work in batches of 50 packs. Replace [START] and [END] with pack numbers:
- Batch 1: Packs 1-50
- Batch 2: Packs 51-100
- Batch 3: Packs 101-150
- Batch 4: Packs 151-160 (final batch)

After EACH batch: commit, push, and PR to main.
Do NOT try to do all 160 packs at once!

=== ITERATIVE QUALITY LOOP ===
1. MANUALLY create examples for each base word (NO PYTHON!)
2. Run Python validation (checking only)
3. Score quality 1-10
4. If < 9.0, improve and repeat
5. Fresh LLM will rate final output

TARGET SCORE: 9.0+ (examples are natural, useful, clearly contain base word)

=== ⛔ REMINDER: NO PYTHON FOR GENERATION ===
Do NOT write Python to "speed things up."
Do NOT use any automation to generate examples.
Edit the CSV by hand, pack by pack, word by word.

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== PREREQUISITE ===
Stage 1 must be complete. English_Base_Words column must be finalized.

=== YOUR GOAL ===
For each base word, create 2 example phrases that CONTAIN that base word.
YOU must think of each example yourself. NO automation.

=== CRITICAL RULES ===
1. Each base word needs exactly 2 examples
2. Each example MUST CONTAIN its base word as a substring
3. Examples should be natural phrases learners would actually use
4. ⛔ NEVER use Python to generate examples - MANUAL ONLY

=== STRUCTURE ===
If Base_Words = [word1, word2, word3]
Then Example_Words = [word1_exA, word1_exB, word2_exA, word2_exB, word3_exA, word3_exB]

=== EXAMPLE ===
Base_Words: [hello, goodbye, thanks]
Example_Words: [hello there, hello everyone, goodbye friend, goodbye for now, thanks a lot, thanks for helping]

Notice: "hello there" and "hello everyone" both CONTAIN "hello"

=== PYTHON: VALIDATION ONLY ===
Python is ONLY for checking your manual work:
1. Verify every example contains its base word
2. Check word count: Example_Words = 2 × Base_Words count
3. Check for duplicates
4. Create Combined_Words = Base_Words + Example_Words

⛔ Python is NEVER for generating content. NEVER.

=== FILE INFO ===
FILE: EnglishWordsOverview.csv
COLUMNS TO CREATE: English_Example_Words, English_Combined_Words

=== WORKFLOW FOR THIS BATCH ===
1. Read Base_Words for packs [START] to [END] only
2. ⛔ MANUALLY create 2 examples per base word (NO PYTHON!)
3. Build Example_Words array BY HAND
4. Run Python validation (checking only)
5. Fix any issues MANUALLY
6. Score quality 1-10
7. Commit, push, PR to main
8. Next agent picks up the next batch

=== ⛔ FINAL WARNING ===
If you write ANY Python code to generate examples, you have FAILED.

=== FINAL OUTPUT (REQUIRED) ===
| Metric       | Value |
|--------------|-------|
| Batch        | Packs [START]-[END] |
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation] |

Create your own branch, commit, and PR to main after this batch.</div>

<!-- ============================================================ -->
<!-- STAGE 3: BREAKOUT CSV CREATION                               -->
<!-- ============================================================ -->

<div>
    <h2>Stage 3: Create Breakout CSVs</h2>
    <p>Generate translation CSVs for each pack. Target score: 9.5+</p>
    <p><strong>Python check:</strong> <code>python PythonHelpers/validate_pinyin.py [lang]</code></p>
</div>

<div>
    <h4>STAGE 3 INPUT - Combined_Words from Overview CSV</h4>
    <p>INPUT: Overview CSV with Combined_Words column (from Stage 2)</p>
    <table>
        <tr><th>Pack_Number</th><th>Pack_Title</th><th>Chinese_Combined_Words</th></tr>
        <tr><td>15</td><td>Animals</td><td>[猫,狗,鸟,小猫,猫咪,小狗,狗狗,小鸟,鸟儿]</td></tr>
    </table>

    <h4>STAGE 3 OUTPUT - ChineseWords15.csv (Breakout CSV)</h4>
    <p>OUTPUT: Individual CSV file with ALL translations (12 columns for Chinese)</p>
    <table>
        <tr><th>chinese</th><th>pinyin</th><th>english</th><th>spanish</th><th>french</th><th>portuguese</th><th>vietnamese</th><th>thai</th><th>khmer</th><th>indonesian</th><th>malay</th><th>filipino</th></tr>
        <tr><td>猫</td><td>māo</td><td>cat</td><td>gato</td><td>chat</td><td>gato</td><td>con mèo</td><td>แมว</td><td>ឆ្មា</td><td>kucing</td><td>kucing</td><td>pusa</td></tr>
        <tr><td>小猫</td><td>xiǎo māo</td><td>kitten</td><td>gatito</td><td>chaton</td><td>gatinho</td><td>mèo con</td><td>ลูกแมว</td><td>កូនឆ្មា</td><td>anak kucing</td><td>anak kucing</td><td>kuting</td></tr>
    </table>
    <p>CRITICAL: Pinyin must have 1 syllable per character with spaces! 小猫 = "xiǎo māo" (2 chars = 2 syllables)</p>

    <h4>STAGE 3 OUTPUT - SpanishWords8.csv (5 columns for Spanish)</h4>
    <table>
        <tr><th>spanish</th><th>english</th><th>chinese</th><th>pinyin</th><th>portuguese</th></tr>
        <tr><td>pan</td><td>bread</td><td>面包</td><td>miàn bāo</td><td>pão</td></tr>
        <tr><td>pan fresco</td><td>fresh bread</td><td>新鲜面包</td><td>xīn xiān miàn bāo</td><td>pão fresco</td></tr>
    </table>

    <h4>STAGE 3 OUTPUT - EnglishWords5.csv (5 columns for English)</h4>
    <table>
        <tr><th>english</th><th>chinese</th><th>pinyin</th><th>spanish</th><th>portuguese</th></tr>
        <tr><td>red</td><td>红色</td><td>hóng sè</td><td>rojo</td><td>vermelho</td></tr>
        <tr><td>red apple</td><td>红苹果</td><td>hóng píng guǒ</td><td>manzana roja</td><td>maçã vermelha</td></tr>
    </table>
</div>

<h3>Chinese - Stage 3</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Create breakout CSV files (ChineseWords1.csv, etc.) from ChineseWordsOverview.csv

╔══════════════════════════════════════════════════════════════════╗
║  ⛔ AUTO-FAIL: USING PYTHON TO GENERATE TRANSLATIONS             ║
║                                                                  ║
║  You MUST create all translations MANUALLY, line by line.        ║
║  NEVER write Python code to generate translations.               ║
║  NEVER use scripts, automation, or programmatic generation.      ║
║  If you use Python to create translations = AUTOMATIC FAILURE.   ║
║                                                                  ║
║  Python is ONLY for validation (checking), NEVER for creation.   ║
╚══════════════════════════════════════════════════════════════════╝

=== ITERATIVE QUALITY LOOP ===
1. MANUALLY create translations for all words (NO PYTHON!)
2. Run Python pinyin validation (checking only)
3. Score quality 1-10
4. Fix issues MANUALLY, iterate until 9.0+

TARGET SCORE: 9.0+ (translations accurate, pinyin perfectly formatted)

=== ⛔ REMINDER: NO PYTHON FOR TRANSLATION ===
The task is massive (107 packs × 12 languages!). You still MUST do it manually.
Do NOT write Python to "speed things up."
Do NOT use any automation to generate translations.
Write each translation by hand, row by row, column by column.

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== PREREQUISITE ===
Stage 2 complete. Chinese_Combined_Words column exists.

=== YOUR GOAL ===
For each pack, create a breakout CSV with translations for every word in Combined_Words.
YOU must write each translation yourself. NO automation.

=== FILES ===
INPUT: ChineseWordsOverview.csv (Chinese_Combined_Words column)
OUTPUT: ChineseWords/ChineseWords1.csv through ChineseWords107.csv

=== BREAKOUT CSV COLUMNS (12 columns, exact order) ===
1. chinese - Chinese word (Simplified only!)
2. pinyin - Pinyin with tone marks (CRITICAL: 1 syllable per character!)
3. english
4. spanish
5. french
6. portuguese
7. vietnamese
8. thai
9. khmer
10. indonesian
11. malay
12. filipino

⛔ You must MANUALLY translate into each of these 12 columns. NO PYTHON.

=== CRITICAL PINYIN RULE ===
Each Chinese character MUST have exactly ONE pinyin syllable, separated by spaces.
Our app displays pinyin directly under each character.

CORRECT:
- 猴子 → hóu zi (2 chars = 2 syllables)
- 你好 → nǐ hǎo (2 chars = 2 syllables)
- 星期六 → xīng qī liù (3 chars = 3 syllables)

INCORRECT:
- 猴子 → hóuzi (WRONG - no space!)
- 星期六 → xīngqīliù (WRONG - no spaces!)

THE RULE: Count Chinese chars, count pinyin syllables - MUST match!

=== EXAMPLE ROW ===
chinese,pinyin,english,spanish,french,portuguese,vietnamese,thai,khmer,indonesian,malay,filipino
你好,nǐ hǎo,hello,hola,bonjour,olá,xin chào,สวัสดี,ជំរាបសួរ,halo,halo,kumusta

=== PYTHON: VALIDATION ONLY ===
Python is ONLY for checking your manual work:
Run: python PythonHelpers/validate_pinyin.py chinese
Checks that character count matches syllable count for every row.

⛔ Python is NEVER for generating translations. NEVER.

=== WORKFLOW ===
1. Read Combined_Words from each pack
2. ⛔ MANUALLY create translations in all 12 languages (NO PYTHON!)
3. CAREFULLY format pinyin BY HAND (1 syllable per char, spaces between)
4. Save as ChineseWords{N}.csv
5. Run pinyin validation (checking only)
6. Fix any mismatches MANUALLY
7. Score quality, iterate until 9.0+

=== ⛔ FINAL WARNING ===
If you write ANY Python code to generate translations, you have FAILED.
The task is large (107 packs). That is intentional. Do it manually anyway.

=== FINAL OUTPUT (REQUIRED) ===
End your response with this exact table format:

| Metric       | Value |
|--------------|-------|
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation of what improved] |

Create your own branch, commit, and PR to main.</div>

<h3>Spanish - Stage 3</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Create breakout CSV files (SpanishWords1.csv, etc.) from SpanishWordsOverview.csv

╔══════════════════════════════════════════════════════════════════╗
║  ⛔ AUTO-FAIL: USING PYTHON TO GENERATE TRANSLATIONS             ║
║                                                                  ║
║  You MUST create all translations MANUALLY, line by line.        ║
║  NEVER write Python code to generate translations.               ║
║  NEVER use scripts, automation, or programmatic generation.      ║
║  If you use Python to create translations = AUTOMATIC FAILURE.   ║
║                                                                  ║
║  Python is ONLY for validation (checking), NEVER for creation.   ║
╚══════════════════════════════════════════════════════════════════╝

=== ITERATIVE QUALITY LOOP ===
1. MANUALLY create translations for all words (NO PYTHON!)
2. Run Python validation (checking only)
3. Score quality 1-10
4. Fix issues MANUALLY, iterate until 9.0+

TARGET SCORE: 9.0+ (translations accurate, pinyin correct)

=== ⛔ REMINDER: NO PYTHON FOR TRANSLATION ===
The task is massive (250 packs!). You still MUST do it manually.
Do NOT write Python to "speed things up."
Do NOT use any automation to generate translations.
Write each translation by hand, row by row, column by column.

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== PREREQUISITE ===
Stage 2 complete. Spanish_Combined_Words column exists.

=== YOUR GOAL ===
For each pack, create a breakout CSV with translations for every word.
YOU must write each translation yourself. NO automation.

=== FILES ===
INPUT: SpanishWordsOverview.csv (Spanish_Combined_Words column)
OUTPUT: SpanishWords/SpanishWords1.csv through SpanishWords250.csv

=== BREAKOUT CSV COLUMNS (5 columns, exact order) ===
1. spanish - Spanish word/phrase
2. english
3. chinese - Simplified Chinese only!
4. pinyin - 1 syllable per character, separated by spaces!
5. portuguese

⛔ You must MANUALLY translate into each of these 5 columns. NO PYTHON.

=== CRITICAL PINYIN RULE ===
CORRECT: 你好 → nǐ hǎo (space between syllables)
INCORRECT: 你好 → nǐhǎo (no space - WRONG)

=== EXAMPLE ROW ===
spanish,english,chinese,pinyin,portuguese
hola amigo,hello friend,你好朋友,nǐ hǎo péng you,olá amigo

=== PYTHON: VALIDATION ONLY ===
Python is ONLY for checking your manual work.
⛔ Python is NEVER for generating translations. NEVER.

=== WORKFLOW ===
1. Read Combined_Words from each pack
2. ⛔ MANUALLY create translations in all 5 columns (NO PYTHON!)
3. Format pinyin correctly BY HAND
4. Save as SpanishWords{N}.csv
5. Run validation (checking only), iterate until 9.0+

=== ⛔ FINAL WARNING ===
If you write ANY Python code to generate translations, you have FAILED.
The task is large (250 packs). That is intentional. Do it manually anyway.

=== FINAL OUTPUT (REQUIRED) ===
End your response with this exact table format:

| Metric       | Value |
|--------------|-------|
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation of what improved] |

Create your own branch, commit, and PR to main.</div>

<h3>English - Stage 3</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Create breakout CSV files (EnglishWords1.csv, etc.) from EnglishWordsOverview.csv

╔══════════════════════════════════════════════════════════════════╗
║  ⛔ AUTO-FAIL: USING PYTHON TO GENERATE TRANSLATIONS             ║
║                                                                  ║
║  You MUST create all translations MANUALLY, line by line.        ║
║  NEVER write Python code to generate translations.               ║
║  NEVER use scripts, automation, or programmatic generation.      ║
║  If you use Python to create translations = AUTOMATIC FAILURE.   ║
║                                                                  ║
║  Python is ONLY for validation (checking), NEVER for creation.   ║
╚══════════════════════════════════════════════════════════════════╝

=== ITERATIVE QUALITY LOOP ===
1. MANUALLY create translations for all words (NO PYTHON!)
2. Run Python validation (checking only)
3. Score quality 1-10
4. Fix issues MANUALLY, iterate until 9.0+

TARGET SCORE: 9.0+ (translations accurate, pinyin correct)

=== ⛔ REMINDER: NO PYTHON FOR TRANSLATION ===
The task is massive (160 packs!). You still MUST do it manually.
Do NOT write Python to "speed things up."
Do NOT use any automation to generate translations.
Write each translation by hand, row by row, column by column.

=== IF ALREADY GOOD, DON'T EDIT ===
If your INITIAL score is 9.0 or higher, DO NOT make changes.
A score of 9+ means the data is already excellent. Report the score and move on.
Only make edits if the initial score is below 9.0.

=== PREREQUISITE ===
Stage 2 complete. English_Combined_Words column exists.

=== YOUR GOAL ===
For each pack, create a breakout CSV with translations for every word.
YOU must write each translation yourself. NO automation.

=== FILES ===
INPUT: EnglishWordsOverview.csv (English_Combined_Words column)
OUTPUT: EnglishWords/EnglishWords1.csv through EnglishWords160.csv

=== BREAKOUT CSV COLUMNS (5 columns, exact order) ===
1. english - English word/phrase
2. chinese - Simplified Chinese only!
3. pinyin - 1 syllable per character, separated by spaces!
4. spanish
5. portuguese

⛔ You must MANUALLY translate into each of these 5 columns. NO PYTHON.

=== CRITICAL PINYIN RULE ===
CORRECT: 你好 → nǐ hǎo (space between syllables)
INCORRECT: 你好 → nǐhǎo (no space - WRONG)

=== EXAMPLE ROW ===
english,chinese,pinyin,spanish,portuguese
hello there,你好,nǐ hǎo,hola,olá

=== PYTHON: VALIDATION ONLY ===
Python is ONLY for checking your manual work.
⛔ Python is NEVER for generating translations. NEVER.

=== WORKFLOW ===
1. Read Combined_Words from each pack
2. ⛔ MANUALLY create translations in all 5 columns (NO PYTHON!)
3. Format pinyin correctly BY HAND
4. Save as EnglishWords{N}.csv
5. Run validation (checking only), iterate until 9.0+

=== ⛔ FINAL WARNING ===
If you write ANY Python code to generate translations, you have FAILED.
The task is large (160 packs). That is intentional. Do it manually anyway.

=== FINAL OUTPUT (REQUIRED) ===
End your response with this exact table format:

| Metric       | Value |
|--------------|-------|
| BEFORE Score | X/10  |
| AFTER Score  | X/10  |
| Reason       | [1-2 sentence explanation of what improved] |

Create your own branch, commit, and PR to main.</div>

<!-- ============================================================ -->
<!-- STAGE 4: JAVASCRIPT MODULE GENERATION                        -->
<!-- ============================================================ -->

<div>
    <h2>Stage 4: Generate JavaScript Modules</h2>
    <p>Convert breakout CSVs to JS modules (clean + obfuscated). Final output for the game.</p>
    <p><strong>Script:</strong> <code>python [Lang]Words/[Lang]WordsPythonHelperScripts/convert_csv_to_js.py</code></p>
</div>

<div>
    <h4>STAGE 4 INPUT - Breakout CSV (ChineseWords15.csv)</h4>
    <table>
        <tr><th>chinese</th><th>pinyin</th><th>english</th><th>spanish</th><th>french</th><th>...</th></tr>
        <tr><td>猫</td><td>māo</td><td>cat</td><td>gato</td><td>chat</td><td>...</td></tr>
        <tr><td>小猫</td><td>xiǎo māo</td><td>kitten</td><td>gatito</td><td>chaton</td><td>...</td></tr>
    </table>

    <h4>STAGE 4 OUTPUT - Clean JS Module (Jsmodules/act1-foundation.js)</h4>
    <p>Human-readable format for development</p>
    <table>
        <tr><th colspan="2">JavaScript ES6 Export</th></tr>
        <tr><td colspan="2">export const p1_15_animals = {
  meta: {
    wordpack: 15,
    chinese: "动物",
    pinyin: "dòng wù",
    english: "Animals",
    spanish: "Animales"
  },
  words: [
    ["猫", "māo", "cat", "gato", "chat", ...],
    ["小猫", "xiǎo māo", "kitten", "gatito", ...]
  ]
};</td></tr>
    </table>

    <h4>STAGE 4 OUTPUT - Obfuscated JS (Jsmodules-js/act1-foundation-js.js)</h4>
    <p>Compressed + Base64 for production (smaller file size)</p>
    <table>
        <tr><th>Obfuscation Process</th><th>Result</th></tr>
        <tr><td>1. JSON.stringify(data)</td><td>{"p1_15_animals":{"meta":...}}</td></tr>
        <tr><td>2. Reverse string</td><td>}}...:"atem"{:"slamina_51_1p"{</td></tr>
        <tr><td>3. zlib compress</td><td>[binary data]</td></tr>
        <tr><td>4. Base64 encode</td><td>export const w = "eJzLzs9N...";</td></tr>
    </table>
    <p>Decode with pako.js: base64 → inflate → reverse → JSON.parse</p>
</div>

<h3>Chinese - Stage 4</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Generate JavaScript modules from Chinese breakout CSVs

=== WHAT THIS STAGE PRODUCES ===
Two versions of JS modules:

1. CLEAN VERSION (for development):
   Location: ChineseWords/Jsmodules/act1-foundation.js, act2-development.js, etc.
   Format: Human-readable ES6 exports
   Purpose: LLM-assisted coding, debugging, understanding data structure

2. OBFUSCATED VERSION (for production):
   Location: ChineseWords/Jsmodules-js/act1-foundation-js.js, etc.
   Format: Compressed + Base64 encoded
   Purpose: Actual game deployment, smaller file size

=== PREREQUISITE ===
Stage 3 complete. All ChineseWords1.csv through ChineseWords107.csv exist.

=== HOW TO RUN ===
python ChineseWords/ChineseWordsPythonHelperScripts/convert_csv_to_js.py

=== OUTPUT JS MODULE STRUCTURE ===
Each act file exports multiple packs:

export const p1_1_greetings__goodbyes = {
  meta: {
    wordpack: 1,                    // Pack number (integer)
    chinese: "问候语",               // Title in Chinese
    pinyin: "wèn hòu yǔ",           // Title pinyin
    english: "Greetings & Goodbyes", // Title in English
    spanish: "Saludos",              // etc.
    // ... all supported languages
  },
  words: [
    ["你好", "nǐ hǎo", "hello", "hola", "bonjour", "olá", "xin chào", "สวัสดี", "ជំរាបសួរ", "halo", "halo", "kumusta"],
    ["再见", "zài jiàn", "goodbye", ...],
    // Each row is [chinese, pinyin, english, spanish, french, portuguese, vietnamese, thai, khmer, indonesian, malay, filipino]
  ]
};

=== OBFUSCATION METHOD (3 layers) ===
1. JSON.stringify(allPacksData)
2. Reverse the string (salt)
3. zlib.compress()
4. base64.encode()

Result: export const w = "base64string...";

=== TO DECODE IN BROWSER ===
Uses pako.js for decompression:
1. Import module (get 'w' export)
2. base64 decode → Uint8Array
3. pako.inflate()
4. Reverse string
5. JSON.parse() → original data

See DecoderTest.html for working example.

=== ACT MAPPING ===
Chinese has 5 acts:
- Act I: Foundation (act1-foundation.js)
- Act II: Development (act2-development.js)
- Act III: Expansion (act3-expansion.js)
- Act IV: Mastery (act4-mastery.js)
- Act V: Refinement (act5-refinement.js)

The Overview CSV's Difficulty_Act column determines which act each pack belongs to.

=== COLUMN INDICES FOR CHINESE (12 columns) ===
[0] chinese, [1] pinyin, [2] english, [3] spanish, [4] french,
[5] portuguese, [6] vietnamese, [7] thai, [8] khmer,
[9] indonesian, [10] malay, [11] filipino

=== VERIFICATION ===
After generation:
1. Check Jsmodules/ has all act files
2. Check Jsmodules-js/ has obfuscated versions
3. Load DecoderTest.html to verify decoding works
4. Spot-check a few packs for correct data

Create your own branch, commit, and PR to main.</div>

<h3>Spanish - Stage 4</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Generate JavaScript modules from Spanish breakout CSVs

=== OUTPUT ===
1. CLEAN: SpanishWords/Jsmodules/act1-foundation.js through act7-mastery-fluency.js
2. OBFUSCATED: SpanishWords/Jsmodules-js/act1-foundation-js.js through act7-mastery-fluency-js.js

=== HOW TO RUN ===
python SpanishWords/SpanishWordsPythonHelperScripts/convert_csv_to_js.py

=== ACT MAPPING ===
Spanish has 7 acts (250 packs):
- Act I: Foundation
- Act II: Building Blocks
- Act III: Daily Life
- Act IV: Expanding Expression
- Act V: Intermediate Mastery
- Act VI: Advanced Constructs
- Act VII: Mastery Fluency

=== COLUMN INDICES FOR SPANISH (5 columns) ===
[0] spanish, [1] english, [2] chinese, [3] pinyin, [4] portuguese

=== JS MODULE STRUCTURE ===
export const p1_1_greetings__goodbyes = {
  meta: {
    wordpack: 1,
    spanish: "Saludos y Despedidas",
    english: "Greetings & Goodbyes",
    chinese: "问候语",
    pinyin: "wèn hòu yǔ",
    portuguese: "Saudações"
  },
  words: [
    ["hola amigo", "hello friend", "你好朋友", "nǐ hǎo péng you", "olá amigo"],
    // [spanish, english, chinese, pinyin, portuguese]
  ]
};

Create your own branch, commit, and PR to main.</div>

<h3>English - Stage 4</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Generate JavaScript modules from English breakout CSVs

=== OUTPUT ===
1. CLEAN: EnglishWords/Jsmodules/act1-foundation.js through act5-advanced-mastery.js
2. OBFUSCATED: EnglishWords/Jsmodules-js/act1-foundation-js.js through act5-advanced-mastery-js.js

=== HOW TO RUN ===
python EnglishWords/EnglishWordsPythonHelperScripts/convert_csv_to_js.py

=== ACT MAPPING ===
English has 5 acts (160 packs):
- Act I: Foundation
- Act II: Building Blocks
- Act III: Everyday Life
- Act IV: Expanding Horizons
- Act V: Advanced Mastery

=== COLUMN INDICES FOR ENGLISH (5 columns) ===
[0] english, [1] chinese, [2] pinyin, [3] spanish, [4] portuguese

=== JS MODULE STRUCTURE ===
export const p1_1_greetings__basics = {
  meta: {
    wordpack: 1,
    english: "Greetings & Basics",
    chinese: "问候语",
    pinyin: "wèn hòu yǔ",
    spanish: "Saludos",
    portuguese: "Saudações"
  },
  words: [
    ["hello there", "你好", "nǐ hǎo", "hola", "olá"],
    // [english, chinese, pinyin, spanish, portuguese]
  ]
};

Create your own branch, commit, and PR to main.</div>

<!-- ============================================================ -->
<!-- RATING PROMPT (FOR FRESH LLM)                                -->
<!-- ============================================================ -->

<div>
    <h2>Quality Rating Prompt (For Fresh LLM)</h2>
    <p>Use this to have an unbiased LLM rate another LLM's work.</p>
</div>

<h3>Fresh LLM Rating Prompt</h3>
<div>Click to copy</div>
<div onclick="copyPrompt(this)">TASK: Rate the quality of wordpack data (UNBIASED REVIEW)

=== IMPORTANT ===
You are rating work done by another LLM agent. You have NOT seen this data before.
Provide an honest, unbiased assessment. Do not assume the work is good.

=== WHAT TO RATE ===
Rate each aspect 1-10 and provide an OVERALL score.

For BASE WORDS (Stage 1):
- Theme fit: Do words match the pack's stated theme?
- Usefulness: Are these words learners should know?
- Completeness: Are obvious words missing?
- No phrases: Are all entries vocabulary items (not sentences)?
- No duplicates: Each word appears in only one pack?

For EXAMPLE WORDS (Stage 2):
- Contains base word: Does each example contain its base word?
- Natural usage: Are examples phrases people actually say?
- Variety: Are the 2 examples per word different enough?
- Correct count: Exactly 2 examples per base word?

For TRANSLATIONS (Stage 3):
- Accuracy: Are translations correct?
- Pinyin format: 1 syllable per character, spaces between?
- Simplified Chinese: No Traditional characters?
- Consistency: Same quality across all rows?

=== OUTPUT FORMAT ===
Theme Fit: X/10 - [brief comment]
Usefulness: X/10 - [brief comment]
Completeness: X/10 - [brief comment]
Format Correctness: X/10 - [brief comment]
...

OVERALL SCORE: X/10

SPECIFIC ISSUES FOUND:
1. [Issue and how to fix]
2. [Issue and how to fix]
...

VERDICT: [PASS if >= 9.0] or [NEEDS IMPROVEMENT if < 9.0]

=== BE HONEST ===
If the work is excellent, say so. If it has problems, list them clearly.
The goal is quality, not politeness.</div>

<script>
    // ============================================================
    // COPY TO CLIPBOARD FUNCTIONALITY
    // ============================================================
    // When user clicks a prompt box, copy its text content to clipboard.
    // Flash green briefly to confirm the copy succeeded.
    // Uses inline styles instead of CSS classes for visual feedback.

    function copyPrompt(element) {
        const text = element.innerText;
        navigator.clipboard.writeText(text).then(() => {
            // Visual feedback using inline styles (no CSS needed)
            const originalBg = element.style.backgroundColor;
            element.style.backgroundColor = '#90EE90';  // Light green
            setTimeout(() => {
                element.style.backgroundColor = originalBg;
            }, 500);
        });
    }
</script>

</body>
</html>
