Function Name,What It Does,Reusability Score (1-10)
switchLanguage,"Switches between target languages (Chinese, Spanish, English) by reloading page with new language in localStorage",9
getTargetLanguage,"Returns the current target language being learned based on loaded modules",9
toTitleCase,"Converts a string to title case (first letter capitalized)",10
validateTargetLanguageConsistency,"Validates that all loaded acts are for the same target language",8
isChineseMode,"Returns true if current target language is Chinese",10
updateChineseModeClass,"Adds/removes 'chinese-mode' CSS class on body element based on target language",8
getTranslationsConfig,"Returns translations config from loaded act metadata (__actMeta.translations)",9
getDefaultTranslation,"Returns default translation language from loaded act metadata",9
getWordColumns,"Returns word column structure from loaded act metadata",9
getValidLanguages,"Returns list of valid native language options from translations config",9
getTtsLanguageCode,"Returns language code for text-to-speech based on target language (es-ES, zh-CN, en-US)",10
decodeObfuscatedModule,"Decodes obfuscated modules using 3-layer deobfuscation (base64 + zlib + string reversal)",10
loadAct,"Loads and decodes an act module, extracts metadata, caches it in loadedActs and loadedActMeta",10
shuffleArray,"Fisher-Yates shuffle algorithm for randomizing arrays",10
combineAndShuffleWords,"Combines base and example words with controlled shuffling (base first, examples second)",10
normalizeChar,"Normalizes characters for typing comparison (removes accents, converts to lowercase)",10
findNextTypingPosition,"Finds the next untyped position in a word for typing validation",10
checkTypingKey,"Checks if a typed key matches the target character (accent-insensitive)",10
isWordComplete,"Checks if all positions in a word have been typed correctly",10
coupleChineseWithPinyin,"Couples Chinese characters with pinyin syllables into {char, pinyin} objects, handles Latin blocks",10
renderChineseWithPinyin,"Renders coupled Chinese+pinyin array as HTML with characters above pinyin",10
renderChineseText,"Convenience function that couples and renders Chinese text with pinyin",10
getChineseHtml,"Returns HTML string for Chinese text with pinyin (non-DOM version of renderChineseText)",10
saveState,"Saves state object to localStorage with the given storage key",10
loadState,"Loads and parses state from localStorage with error handling",10
toggleDebugMode,"Toggles debug mode visibility when Ctrl+` is pressed",8
updateDebugTable,"Updates debug table with current deck state, can show confused cards or full deck",7
initializeDebugUI,"Initializes debug UI with language switcher and deck state visualization",8
normalizePronunciationText,"Normalizes text for pronunciation comparison (lowercase, removes spaces/punctuation)",10
getSimilarityThreshold,"Returns similarity threshold percentage based on word length",10
levenshteinDistance,"Calculates edit distance between two strings for fuzzy matching",10
calculateSimilarity,"Calculates pronunciation similarity percentage using Levenshtein distance",10
getFeedbackMessage,"Returns feedback message based on pronunciation score (Excellent/Good/Fair/Keep Trying)",10
getScoreClass,"Returns CSS class name based on pronunciation score (excellent/good/fair/poor)",10
updatePronunciationDebug,"Updates debug panel with pronunciation attempt details",7
hideFeedback,"Hides pronunciation feedback elements",7
normalizeString,"Normalizes strings for duplicate detection (lowercase, removes spaces/symbols)",10
generateWrongAnswers,"Generates N wrong answers for multiple choice from act-wide word pool with duplicate filtering",10
generateWrongAnswersWithPinyin,"Generates wrong answers with pinyin for multiple choice (Chinese-specific)",10
showStamp,"Shows stamp element with sound, waits duration, then calls callback",9
showSuccessStamp,"Shows success stamp with ding sound for 1.5 seconds",9
showFailureStamp,"Shows failure stamp with buzz sound for 1.5 seconds",9
loadVoicesForLanguage,"Loads and filters TTS voices for a specific language code",10
speakWord,"Speaks text using text-to-speech with configurable voice, speed, volume",10
findVoiceByURI,"Finds a TTS voice object by its voiceURI from available voices array",10
initializeTypingState,"Initializes typing state for a word (positions, display, wrong tracking)",10
getTypingDisplay,"Returns typing display string showing typed letters and X for untyped positions",10
removeCard,"Removes card at current index from deck and returns new deck and index",10
addDuplicateCards,"Adds N duplicate copies of a card to deck after current position",10
createDeckFromPack,"Creates a game deck from a wordpack with translation and typing target fields",10
populateActSelector,"Populates act dropdown with act names from loaded metadata and attaches change handler",9
populatePackSelector,"Populates pack dropdown with pack titles from act data and attaches change handler",9
populateNativeLanguageSelector,"Populates native language dropdown from translations config and attaches change handler",9
navigateToPrevious,"Navigates to previous card in deck with wraparound and callbacks",9
navigateToNext,"Navigates to next card in deck with wraparound and callbacks",9
resetDeckToOriginal,"Resets current deck to original deck state and triggers callbacks",9
navigateToNextPack,"Finds and returns the next wordpack key in sequence",9
setTTSSpeed,"Sets TTS speed and updates active button styling",8
renderTypingDisplayHTML,"Renders typing display as HTML with color coding for typed/untyped/wrong letters",10
renderTargetWordHTML,"Renders target word as HTML, handles Chinese with pinyin coupling",10
renderTranslationHTML,"Renders translation text as HTML, handles Chinese translations with pinyin",10
createButtonTooltip,"Creates and attaches a tooltip to a button with HTML content and hover behavior",9
updateWordpackTitleDisplay,"Updates wordpack title display element with pack title from wordpacks dictionary",8
simulateCorrectAnswer,"Debug function to simulate correct answer and remove card from deck",7
simulateWrongAnswer,"Debug function to simulate wrong answer and add penalty duplicate cards",7
simulateNearVictory,"Debug function to simulate near-victory state with only 1 card remaining",7
getAudioContext,"Creates and returns singleton AudioContext for Web Audio API",10
playTypingSound,"Plays mechanical keyboard typing click sound using Web Audio API",10
handleTypingInput,"Handles typing input validation, updates state, returns status (correct/wrong/incomplete)",10
resetListeningState,"Resets speech recognition state and button styling",9
startListeningForPronunciation,"Starts speech recognition for pronunciation practice and scores the attempt",10
restoreSavedState,"Restores saved state from localStorage with validation against valid options",9
validateAndFixState,"Validates restored state against loaded data (ensures act and pack exist)",9
loadLanguageData,"Loads all act modules for a language and populates loadedActs and loadedActMeta",10
initFlashcardDeck,"Initializes flashcard deck with anti-decoupled front/back card objects",9
flipCard,"Toggles flashcard between front and back",9
nextCard,"Advances to next flashcard with wraparound",9
prevCard,"Goes to previous flashcard with wraparound",9
shuffleDeck,"Shuffles flashcard deck using Fisher-Yates algorithm",9
autoSelectFirstActAndPack,"DRY helper that auto-selects first available act and pack",8
